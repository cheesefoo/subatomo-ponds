<!DOCTYPE html>
<html lang="en">
<head>

    <meta content="width=device-width, user-scalable=no" name="viewport"/>
    <meta charset="utf-8"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="localization/language.js"></script>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css" rel="stylesheet">


    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Roboto&display=swap" rel="stylesheet">
    <!--    <link href="./css/style.css">-->
    <link href="/manifest.webmanifest" rel="manifest"/>
    <title text="main-1">大空スバルのスバ友池</title>
</head>
<body>

<div id="ghost" style="display:none;"></div>

<!--

<nav class="sticky-top bg-warning">
    <div class="container-fluid">
        <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <a class="navbar-brand"  href="#">

                    <div id="navbarLogo"></div>
                </a>
                <button aria-controls="home" aria-selected="false" class="nav-link active"
                        data-bs-target="#home"
                        data-bs-toggle="tab" id="home-tab" role="tab" text="main-2" type="button">
                    Visit the Ponds
                </button>
                <button aria-controls="about-project" aria-selected="false" class="nav-link"
                        data-bs-target="#about-project"
                        data-bs-toggle="tab" id="about-project-tab" role="tab" text="main-3" type="button">
                    About the Project
                </button>
                <button aria-controls="about-subaru" aria-selected="false" class="nav-link"
                        data-bs-target="#about-subaru"
                        data-bs-toggle="tab" id="about-subaru-tab" role="tab" text="main-4" type="button">
                    About Oozora Subaru
                </button>
                <a class="nav-item dropdown">
                    <a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#"
                       id="navbarDropdown" role="button">
                        LANGUAGE
                    </a>
                    <ul aria-labelledby="navbarDropdown" class="dropdown-menu">
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-us" href="#" lang="EN"></a>EN</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-jp" href="#" lang="JP"></a>JP</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-id" href="#" lang="ID"></a>ID</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-es" href="#" lang="ES"></a>ES</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-br" href="#" lang="PT"></a>PT</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-kr" href="#" lang="KR"></a>KR</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-nl" href="#" lang="NL"></a>NL</li>
                        <li><a class="dropdown-item selectLang flag-icon flag-icon-de" href="#" lang="DE"></a>DE</li>
                    </ul>
                </a>
            </div>
        </nav>
    </div>
</nav>

-->

<div class="tab-content screen-container" id="screens">

    <div class="screen tab-pane active" id="home" role="tabpanel">
        <div class="screen-inner logo" id="logo-bg">
<!--            <img src="../images/HHeader.svg" onerror="this.onerror=null; this.src='../images/HHeader.png'">-->

            <div class="logo" id="logo-duck"></div>
            <div class="logo" id="logo">
<!--                <img id="logo" src="../images/LogoAdjustedSize.png"/>-->
            </div>
            <a class="nav-link logo" href="#" id="enterPondButton" text="main-11"> </a>
            <div class="logo" id="logo-panel"></div>

        </div>
    </div>

    <div class="screen tab-pane" id="about-project" role="tabpanel">
        <div class="screen-inner justify-content-center">
            <h1 text="main-3"></h1>
            <img alt="subatomo army" src="images/subatomo army.png"/>
            <div class="project-text">
                <span text="main-18"></span>
                <br/><br/>
                <span text="main-19"></span>
            </div>
        </div>
    </div>

    <div class="screen tab-pane" id="about-subaru">
        <div class="screen-inner justify-content-center">

            <h1 text="main-13">Oozora Subaru</h1>
            <img alt="subaru" src="images/subahug3.png"/>
            <div class="about-content">
                <p>
                    <span text="main-20"></span>
                    <br/>
                    <span text="main-21"></span>

                </p>
                <br/>
                <a href="https://www.youtube.com/channel/UCvzGlP9oQwU--Y0r9id_jnA" text="main-14"
                >Youtube channel</a
                >
            </div>
        </div>
    </div>

</div>


<script defer>
    $(function () {
        loadTranslationsJSON().then(loadTexts);

    });

    function loadTexts() {
        if (strings == null) {
            console.error("strings weren't loaded");
        }
        if (lang == null) {
            console.error("lang not set");
        }
        let tags = $("[text]");
        let texts = strings[lang]["Main page"];
        // console.log(texts);
        [...tags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(5);

            t.textContent = texts[index];
        });
    }

    $(".selectLang").on("click", function () {
        lang = $(this).attr("lang");
        console.log(lang);
        localStorage["userLang"] = lang;
        // localStorage["userLang"] = $(this).attr("lang");
        // location.reload();
        loadTexts();
        changeDropdown();

    });

    function changeDropdown() {

        let dropdown = $("#dropdown-inner");
        dropdown.removeClass();
        dropdown.addClass("flag-icon");
        let cls = "flag-icon-";
        switch (lang) {
        case "EN":
            cls += "us";
            break;
        case "PT":
            cls += "br";
            break;
        default:
            cls += lang.toLowerCase();
            break;
        }
        dropdown.addClass(cls);
    }
</script>

<!--<script src="production-dependencies.bundle.js"></script>-->
<script crossorigin="anonymous"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="/__/firebase/8.6.2/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="/__/firebase/8.6.2/firebase-analytics.js"></script>

<!-- Initialize Firebase -->
<script src="/__/firebase/init.js"></script>
<script src="main.bundle.js"></script>
</body>
</html>
