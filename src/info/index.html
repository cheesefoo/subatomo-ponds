<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oozora Subaru Milestone Project</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Roboto&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="localization/language.js"></script>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" rel="stylesheet">
    <link crossorigin="anonymous" href="index.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css" rel="stylesheet">
    <meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<nav class="sticky-top bg-warning">
    <div class="container-fluid">
        <a class="navbar-brand links" href="#">Subaru Milestone Celebration</a>
        <div class="mx-auto mb-2 mb-lg-0">
            <div class="nav-item dropdown">
                <a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#"
                   id="navbarDropdown" role="button">
                    LANGUAGE
                </a>
                <ul aria-labelledby="navbarDropdown" class="dropdown-menu">
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-us" href="#" lang="EN"></a>EN</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-jp" href="#" lang="JP"></a>JP</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-id" href="#" lang="ID"></a>ID</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-mx" href="#" lang="ES"></a>ES</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-br" href="#" lang="PT"></a>PT</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-kr" href="#" lang="KR"></a>KR</li>
                    <li><a class="dropdown-item selectLang flag-icon flag-icon-nl" href="#" lang="NL"></a>NL</li>
                </ul>
            </div>
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">

                    <button aria-controls="home" aria-selected="false" class="nav-link active"
                            data-bs-target="#home"
                            data-bs-toggle="tab" id="home-tab" role="tab" text="l-5" type="button">Home
                    </button>

                    <button aria-controls="guidelines" aria-selected="false" class="nav-link"
                            data-bs-target="#guidelines"
                            data-bs-toggle="tab" id="guidelines-tab" role="tab" text="l-4" type="button">
                        Guidelines
                    </button>

                    <button aria-controls="tutorial" aria-selected="false" class="nav-link"
                            data-bs-target="#tutorial"
                            data-bs-toggle="tab" id="tutorial-tab" role="tab" text="l-3" type="button">Tutorial
                    </button>


                </div>
            </nav>
        </div>
    </div>
</nav>

<div class="tab-content screen-container">
    <div aria-labelledby="home-tab" class="screen justify-content-center tab-pane fade show active" id="home" role="tabpanel">

            <h1 text="a-0"></h1>
            <div text="a-1"></div>
            <div text="a-2"><a href="#home-tldr" text="a-3"></a></div>
            <div text="a-4"><a href="#specs" text="a-5"></a></div>
            <div text="a-6"><a href="template.png" text="a-7"></a></div>
            <div text="a-8"><a href="#tutorial" text="a-9"></a></div>
            <div text="a-10"><a href="editor.html" text="a-11"></a></div>
            <div text="a-11"><a href="../upload/upload.html" text="a-12"></a></div>
            <div>
                <p>
                    <span text="a-13"></span>
                    <a href="#specs" text="a-14"></a>
                    <span text="a-15"></span>
                </p>
            </div>
            <div id="home-tldr" text="a-16"></div>
            <div>
                <p>
                    <span text="a-17">
                        <a href="../upload/upload.html" text="a-18"></a>
                    </span>
                    <span text="a-19">

                    </span>
                </p>
            </div>

    </div>
    <div aria-labelledby="guidelines-tab" class="screen tab-pane fade" id="guidelines" role="tabpanel">

        <h1 text="g-0"></h1>
        <h2 text="g-1"></h2>
        <p text="g-2"><a href="#home" text="g-3"></a></p>
        <p text="g-4"></p>
        <h3 text="g-5"></h3>
        <ul text="g-6"></ul>
        <ul text="g-7"></ul>
        <ul text="g-8"></ul>
        <h3 text="g-9"></h3>
        <ul text="g-10"></ul>
        <h3 text="g-11"></h3>
        <ul text="g-12"></ul>
        <ul text="g-13"></ul>
        <ul text="g-14"></ul>
        <ul text="g-15"></ul>
        <ul text="g-16"></ul>
        <ul text="g-17"></ul>
        <h2 text="g-18"></h2>
        <ul>
            <p text="g-19">
            <ul>
                <li text="g-20"></li>
            </ul>
            <p text="g-21">
            <ul>
                <li text="g-22"></li>
            </ul>
            <p text="g-23">
            <ul>
                <li text="g-24"></li>
            </ul>
            <p text="g-25">
            <ul>
                <li text="g-26"></li>
            </ul>
            <p text="g-27">
            <ul>
                <li text="g-28"></li>
            </ul>
            <p text="g-29">
            <ul>
                <li text="g-30">
                    <a href="#tutorial" text="g-31"></a>
                    <span text="g-32">
                    <a href="../editor/index.html" text="g-33"></a>
                </span>
                </li>
            </ul>
            <p text="g-34">
            <ul>
                <li text="g-35">
                    <a href="#specs-g" text="g-36"></a>
                    <span text="g-37"></span>
                </li>
            </ul>
            <p text="g-38">
            <ul>
                <li text="g-39"></li>
            </ul>
            <p text="g-40">
            <ul>
                <li text="g-41"></li>
            </ul>
            <p text="g-42">
            <ul>
                <li text="g-43"></li>
            </ul>
            <p text="g-44">
            <ul>
                <li text="g-45"></li>
            </ul>
        </ul>
    </div>
    <div aria-labelledby="tutorial-tab" class="screen tab-pane fade" id="tutorial" role="tabpanel">

        <h1 text="t-0"></h1>
        <h2 text="t-1"></h2>
        <ul text="t-2">How do I participate?
            <li text="t-3"><a href="#how-do-i-participate"></a></li>
            <li text="t-4"></li>
            <li text="t-5"></li>
            <li text="t-6">Uploading</li>
            <li text="t-7"></li>
        </ul>
        <h2 id="how-do-i-participate" text="t-8"></h2>
        <a href="#home-tab" text="t-9"></a>
        <h2 id="how-do-you-create-an-animation" text="t-10"></h2>
        <p text="t-11"></p>
        <h2 id="what-is-a-spritesheet" text="t-12"></h2>
        <p text="t-13"></p>
        <img src="tutorial-template.png">
        <p text="t-14"></p>
        <img src="tutorial-gif.gif">
        <h2 id="what-do-i-do" text="t-15"></h2>
        <img src="template.png">
        <a download href="template.png">Click to download</a>
        <div text="16"></div>
        <a href="#guidelines" text="t-17"></a>
        <div text="t-18"></div>
        <a href="#specs-tut" text="t-19"></a>
        <p text="t-20"></p>
        <a href="https://prominentdetail.github.io/Pixel.Tools/" target="_blank"></a>
        <p text="t-22"></p>
        <p text="t-23"></p>
        <small text="t-24"></small>
        <p text="t-25"></p>
        <h1 text="t-26"></h1>
        <p text="t-27"><a href="../upload/upload.html" text="t-28"></a></p>

        <h2 text="t-29"></h2>
        <ul>
            <li text="t-30">
                <ol text="t-31">
                </ol>
            </li>
            <li text="t-32">
                <ol text="t-33">
                </ol>
            <li text="t-34">
                <ol text="t-35">
                </ol>
        </ul>
        <small text="t-36"></small>
        <a href="https://99designs.com/blog/video-animation/what-is-animation/"></a>
        <a href="https://www.codeandweb.com/texturepacker/tutorials/how-to-create-a-sprite-sheet"></a>

    </div>
</div>


<script defer>
    console.log("index load");
    $(function () {
        loadJSON().then(loadTexts);
    });


    function loadTexts() {
        if (strings == null) {
            console.error("strings weren't loaded");
        }
        if (lang == null) {
            console.error("lang not set");
        }
        let linksTags = $("#links [text]");
        let tutorialTags = $("#tutorial [text]");
        let homeTags = $("#home [text]");
        let guidelinesTags = $("#guidelines [text]");
        let links = strings[lang]["Links"];
        let tutorial = strings[lang]["TUTORIAL"];
        let home = strings[lang]["Advertisement"];
        let guidelines = strings[lang]["GUIDELINES"];

        [...tutorialTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = tutorial[index];
        });
        [...homeTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = home[index];
        });
        [...guidelinesTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = guidelines[index];
        });
        [...linksTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = links[index];
        });
    }

    $(".selectLang").on("click", function () {
        lang = $(this).attr("lang");
        console.log(lang);
        localStorage["userLang"] = lang;
        // localStorage["userLang"] = $(this).attr("lang");
        // location.reload();
        loadTexts();
        changeDropdown();

    });

    function changeDropdown() {

        let dropdown = $("#dropdown-inner");
        dropdown.removeClass();
        dropdown.addClass("flag-icon");
        let cls = "flag-icon-";
        switch (lang) {
        case "EN":
            cls += "us";
            break;
        case "ES":
            cls += "mx";
            break;
        case "PT":
            cls += "br";
            break;
        default:
            cls += lang.toLowerCase();
            break;
        }
        dropdown.addClass(cls);
    }


</script>
<script crossorigin="anonymous"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
