<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Oozora Subaru Milestone Project</title>

    <!--    <link href="https://fonts.gstatic.com" rel="preconnect">-->
    <!--    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Roboto&display=swap" rel="stylesheet">-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="localization/language.js"></script>

    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css" rel="stylesheet">
    <link crossorigin="anonymous" href="index.css" rel="stylesheet">
    <link href="editor.css" rel="stylesheet">
    <link href="upload.css" rel="stylesheet">
    <link href="accessories.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

    <script src="fabric.min.js"></script>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <style>
        @font-face
        {
            font-family: kei;
            src:         url("../fonts/keifont.ttf");
        }

        @font-face
        {
            font-family: paybooc;
            src:         url("../fonts/paybooc_Bold.ttf");
        }
    </style>
</head>
<body onload="init();">
<div class="sticky-top">
    <div class="container-fluid" id="container-topbar">

       
        <!--        <div class="docs-logo"></div>-->

        <div class="d-flex top-bar">
			<div id="hamburguer"><span></span><span></span><span></span></div>
            <a class="logo-link me-auto" href="https://subatomos.com">
                <div class="logo-top"></div>
            </a>
            <nav class="d-flex flex-row-reverse" id="navs-flex">
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link" id="header-discord-btn" type="button">
                        <a href="https://discord.gg/subatomos" target="_blank">
                            <svg fill="none" height="55" id="header-discord" viewBox="0 0 71 55" width="71"
                                 xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0)">
                                    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"
                                          fill="#518DB9"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0">
                                        <rect fill="white" height="55" width="71"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </a>
                    </button>
                    <button aria-controls="home" aria-selected="false" class="nav-link shuba-button active"
                            data-bs-target="#home"
                            data-bs-toggle="tab" id="home-tab" role="tab" text="l-8" type="button">Home
                    </button>
                    <button aria-controls="upload" aria-selected="false" class="nav-link shuba-button"
                            data-bs-target="#upload-container"
                            data-bs-toggle="tab" id="upload-tab" role="tab" text="l-7" type="button">Upload
                    </button>
                    <button aria-controls="faq" aria-selected="false" class="nav-link shuba-button"
                            data-bs-target="#faq-container"
                            data-bs-toggle="tab" id="faq-tab" role="tab" text="l-10" type="button">FAQ
                    </button>
                    <div class="nav-item dropdown" id="lang-container">
                        <a aria-expanded="false" class="nav-link dropdown-toggle shuba-button"
                           data-bs-toggle="dropdown"
                           href="#"
                           id="lang-dropdown" role="button">
                            <span class="flag-icon flag-icon-us" id="lang-flag"></span>
                            <span id="lang-header-text">EN</span>
                        </a>
                        <ul aria-labelledby="lang-dropdown" class="dropdown-menu">
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-us" href="#" lang="EN"></a>EN
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-jp" href="#" lang="JP"></a>JP
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-id" href="#" lang="ID"></a>ID
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-es" href="#" lang="ES"></a>ES
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-br" href="#" lang="PT"></a>PT
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-kr" href="#" lang="KR"></a>KR
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-nl" href="#" lang="NL"></a>NL
                            </li>
                            <li><a class="dropdown-item selectLang flag-icon flag-icon-de" href="#" lang="DE"></a>DE
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>

<div class="tab-content screen-container">
    <div aria-labelledby="home-tab" class="screen justify-content-center tab-pane fade show active" id="home"
         role="tabpanel">
        <div class="screen-inner">
            <h1 text="m-0">Subaru 1 Million Subscribers and Birthday Celebration!</h1>
			 <div text="m-1">The Subatomo EN Fan Server has created a website to show our support for Subaru, and
                everyone is invited to participate!
            </div>
			        
            <div text="m-2">Here is a small video to demonstrate how it will work! :</div>
            <embed>
            <div class="participate-list">
                <h3 class="participate-by" text="m-3">Participate by:</h3>
                <ul>
                    <li>
                        <span text="m-4">-Sending a congratulatory message to her!</span>

                    </li>
                    <li><span text="m-5">-Customize your own duck!</span></li>
                    <li><span text="m-6">-Submit fanart for her!</span></li>
                    <li><span text="m-7">-You can also send or suggest other projects you have been working on, if it fits in
                        the main site, we can try to add it!</span>
                    </li>
                </ul>
            </div>
            <a href="#upload-tab" text="m-8">Go to the submission page for more details! </a>
			<button class="nav-link" id="header-discord-btn" type="button">
                        <a href="https://discord.gg/subatomos" target="_blank">
                            <svg fill="none" height="55" id="header-discord" viewBox="0 0 71 55" width="71"
                                 xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0)">
                                    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"
                                          fill="#518DB9"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0">
                                        <rect fill="white" height="55" width="71"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </a>
                    </button>
            
           
        </div>
    </div>
    <div aria-labelledby="upload-tab" class="screen tab-pane fade" id="upload-container" role="tabpanel">
        <div class="screen-inner">
            <div text="u-0">Basic common sense rules apply - no references to religion or politics, no swear words,
                slurs,
                etc. or any combination of letters, numbers, characters, symbols, etc. that can be interpreted as such.
                If
                your name or message would get covered by an ambulance in Sausage Legends it will be rejected.
            </div>
            <div text="u-1">Please only use a language that we are supporting (EN, JP, ID, ES, PT, NL). If you submit in
                another language it may be rejected.
            </div>
            <form
                    action="https://script.google.com/macros/s/AKfycbzC8S3tsvC-x32WyUrHfJc5bZBNSDcWo9KA7OOtyTOZuC-6XJpC3NAL267nVDNK5JDJYw/exec"
                    id="form"
                    method="post"
            >
                <input id="form-lang" name="language" style="display: none">
                <div class="form-group row" id="data">
                    <div class="displayName">
                        <label for="name" text="u-2">Display name</label>
                        <input class="input-sm col-xs-1" id="name" maxlength="16" name="displayName"/>
                        <label for="message" text="u-4">Your congratulatory message for Subaru</label>
                        <textarea class="textarea-sm col-xs-1" id="message" maxlength="128" name="message"></textarea>
                    </div>
                    <div class="contact">
                        <label text="u-6">
                            Can we contact you if there are issues with your submission? This
                            is optional.</label>

                        <div class="form-check form-check-inline">
                            <input checked class="form-check-input" data-bs-target=".collapseOne.show"
                                   data-bs-toggle="collapse"
                                   id="inlineRadio1" name="canContact" type="radio"
                                   value="no">
                            <label class="form-check-label" for="inlineRadio1" text="u-7">No</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" data-bs-target=".collapseOne:not(.show)"
                                   data-bs-toggle="collapse"
                                   id="inlineRadio2"
                                   name="canContact" type="radio" value="yes">
                            <label class="form-check-label" for="inlineRadio2" text="u-8">Yes</label>
                        </div>
                    </div>
                    <div class="collapseOne panel-collapse collapse">
                        <label for="contactInfoInput" text="u-9">email / discord</label>
                        <input id="contactInfoInput" name="contactInfo" placeholder="email / discord" type="text"/>
                    </div>
                    <div id="soundSection">
                        <label for="soundSelection" text="s-0">Sound to play when pressed:</label>
                        <select form="form" id="soundSelection" name="soundSelection">
                            <option text="s-1" value="-1">Picked Randomly</option>
                            <option class="soundOption" text="s-2" value="0">Ajimaru Kazoo</option>
                            <option class="soundOption" text="s-3" value="1">Chuba Chuba Chuba</option>
                            <option class="soundOption" text="s-4" value="2">Chubaaaaaaa</option>
                            <option class="soundOption" text="s-5" value="3">here we go</option>
                            <option class="soundOption" text="s-6" value="4">Jakajakajanjan</option>
                            <option class="soundOption" text="s-7" value="5">morning shuba</option>
                            <option class="soundOption" text="s-8" value="6">Oyasumi (ASMR)</option>
                            <option class="soundOption" text="s-9" value="7">Quack Quack</option>
                            <option class="soundOption" text="s-10" value="8">secret</option>
                            <option class="soundOption" text="s-11" value="9">Shuba (x4)</option>
                            <option class="soundOption" text="s-12" value="10">Shuba!</option>
                            <option class="soundOption" text="s-13" value="11">Shushushushu</option>
                            <option class="soundOption" text="s-14" value="12">UN</option>
                        </select>
                        <div id="soundButtons">
                            <button class="soundButton" text="s-2" type="button" value="0">Ajimaru Kazoo</button>
                            <button class="soundButton" text="s-3" type="button" value="1">Chuba Chuba Chuba</button>
                            <button class="soundButton" text="s-4" type="button" value="2">mesu shuba</button>
                            <button class="soundButton" text="s-5" type="button" value="3">here we go</button>
                            <button class="soundButton" text="s-6" type="button" value="4">Jakajakajanjan</button>
                            <button class="soundButton" text="s-7" type="button" value="5">morning shuba</button>
                            <button class="soundButton" text="s-8" type="button" value="6">Oyasumi (ASMR)</button>
                            <button class="soundButton" text="s-9" type="button" value="7">Quack Quack</button>
                            <button class="soundButton" text="s-10" type="button" value="8">secret</button>
                            <button class="soundButton" text="s-11" type="button" value="9">Shuba (x4)</button>
                            <button class="soundButton" text="s-12" type="button" value="10">Shuba</button>
                            <button class="soundButton" text="s-13" type="button" value="11">Shushushushu</button>
                            <button class="soundButton" text="s-14" type="button" value="12">UN</button>
                        </div>
                    </div>

                    <p></p>
                    <div id="hair">
                        <label text="u-12">Best hairstyle? (optional)</label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="shorthair" name="hairstyle" type="radio"
                                   value="short">
                            <label class="form-check-label" for="shorthair" text="u-13">Short</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="longhair" name="hairstyle" type="radio"
                                   value="long">
                            <label class="form-check-label" for="longhair" text="u-14">Long</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="twintails" name="hairstyle" type="radio"
                                   value="twintails">
                            <label class="form-check-label" for="twintails" text="u-15">Twintails</label>
                        </div>

                    </div>


                </div>
                <div id="refererSection">
                    <label text="u-16">How did you hear about this project? (optional)</label>

                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="ref-subaru-discord" name="referer" type="radio"
                               value="subaru-discord">
                        <label for="ref-subaru-discord" text="u-17">Subatomo EN Discord</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="ref-fan-discord" name="referer" type="radio"
                               value="fan-discord">
                        <label for="ref-fan-discord" text="u-18">Another hololive fan Discord</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="ref-reddit" name="referer" type="radio" value="reddit">
                        <label for="ref-reddit" text="u-19">Reddit</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" id="ref-twitter" name="referer" type="radio" value="twitter">
                        <label for="ref-twitter" text="u-20">Twitter</label>
                    </div>
                    <div class="form-check form-check-inline  panel-collapse collapse">
                        <input class="form-check-input" id="ref-other" name="referer" type="radio" value="other">
                        <label for="ref-other" text="u-21">Other</label>
                    </div>

                </div>
                <div id="countrySection">
                    <label for="country" text="u-22">Where are you from? (Optional)</label>
                    <input id="country" maxlength="2" name="country" placeholder="Country Abbreviation"/>
                </div>
                <div id="upload">
                    <!--                        <label text="u-27">Upload your duck bellow</label>-->
                    <label text="u-25">Choose how you will upload your duck:</label>
                    <p></p>
                    <div id="radiosUpload">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="fanart" name="uploadMethod" required type="radio"
                                   value="fanart">
                            <label for="fanart" text="u-26">Upload fanart</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="justTemp" name="uploadMethod" required type="radio"
                                   value="template">
                            <label for="justTemp" text="u-29">No customization</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="useEditor" name="uploadMethod" required type="radio"
                                   value="editor">
                            <label for="useEditor" text="u-30">Use our editor</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" id="useUpload" name="uploadMethod" required type="radio"
                                   value="upload">
                            <label for="useUpload" text="u-31">Make your own</label>
                        </div>
                    </div>
                    <div class="fanart panel-collapse collapse">
                        <label for="fanartUsername" text="u-27">Username</label>
                        <input id="fanartUsername" name="fanartUsername" placeholder="Twitter handle, etc"
                               type="text"/>
                    </div>
                    <div class="make panel-collapse collapse" id="make">
                        <h1 text="c-0">What do I actually do?</h1>
                        <div text="c-1">We have provided a template for you to draw over and personalize.</div>
                        <div text="c-2">You are not required to use our provided template. You can preview how your
                            duck
                            will look in the upload page.
                        </div>
                        <div text="c-3">Avoid drawing near the legs, the ducks will be swimming. When they move to
                            land,
                            we add legs via code.
                        </div>
                        <div class="tech-specs" id="specs">
                            <img alt="template" src="template.png"/>
                            <h2 text="t-0">Technical Specifications:</h2>
                            <ul>
                                <li text="t-1"></li>
                                <li text="t-2"></li>
                                <li text="t-3"></li>
                                <li text="t-4"></li>
                                <li text="t-5"></li>
                            </ul>
                            <a download href="template.png" text="t-6">Download template</a>
                            <a download href="duck_accessories.zip" text="t-7">Download acessories</a>
                        </div>

                    </div>
                    <input accept="image/png" class="form-control uploadFile" id="uploadFile" name="file"
                           style="display:none" type="file"/>
                    <div class="upload">

                        <div class="editor" id="editor" style="display: none">

                            <img id="menuMobile" onclick="$('#right-tools').addClass('active');"
                                 src="bars-solid.svg">
                            <!-- Based on the tutorial at http://www.html5rocks.com/en/tutorials/dnd/basics/ -->
                            <h1 style="text-align:center;" text="e-0">Duck editor</h1>
                            <div id="newImg"></div>
                            <img crossOrigin="Anonymous" id="duck1" src="1.png"
                                 style=" position:fixed; top:-10000px; left:-10000px;"/>
                            <img crossOrigin="Anonymous" id="duck2" src="2.png"
                                 style=" position:fixed; top:-10000px; left:-10000px;"/>
                            <img crossOrigin="Anonymous" id="duck3" src="3.png"
                                 style=" position:fixed; top:-10000px; left:-10000px;"/>
                            <img crossOrigin="Anonymous" id="duck4" src="4.png"
                                 style=" position:fixed; top:-10000px; left:-10000px;"/>
                            <div class="editor-container">
                                <div id="imagesToolbar">
									 <h3 text="e-1">Accessories</h3>
                                        <h3 text="e-2">Click to add to canvas</h3>
                                    <div id="images">
                                       

                                    </div>
                                </div>

                                <!-- NOTE: Fabric.js sets both the <canvas> element and the wrapper element which it
                                creates to be user-unselectable using CSS properties (e.g. for Webkit, this is
                                -webkit-user-select: none;). We could remove that property during the dragging, but
                                I'm just going to wrap the canvas in a container and bind events to that, which is
                                less intrusive.
                                 -->

                                <div id="center-interface" onclick="$('#right-tools').removeClass('active');">
                                    <div id="canvas-container">
                                        <canvas height="200" id="canvas" width="200"></canvas>
                                    </div>

                                    <div id="result">
                                        <hr>
                                        <h1 text="e-3">Result</h1>
                                        <canvas height="200" id="source" width="200"></canvas>
                                        <canvas height="200" id="copy" width="200"></canvas>
                                        <div id="resultCanvas">
                                            <canvas height="400" id="spritesheet" width="400"></canvas>
                                        </div>
                                    </div>

                                </div>


                                <div id="right-tools">
                                    <div id="drawingStuff">
                                        <h3 text="e-4">Drawing</h3>
                                        <button class="btn btn-info" id="drawing-mode" text="e-5" type="button">
                                            Enter
                                            drawing
                                            mode
                                        </button>
                                        <br>
                                        <button class="btn btn-info" id="clear-canvas" text="e-6" type="button">
                                            Reset
                                            Duck
                                        </button>
                                        <br>

                                        <div id="drawing-mode-options" style="display:none;">
                                            <label for="drawing-mode-selector" text="e-7">Mode:</label>
                                            <select id="drawing-mode-selector">
                                                <option text="e-8">Pencil</option>
                                                <option text="e-9">Circle</option>
                                                <option text="e-10">Spray</option>
                                                <option text="e-11">Pattern</option>
                                            </select><br>

                                            <label for="drawing-line-width" text="e-12">Line width:</label>
                                            <span class="info">8</span><input id="drawing-line-width" max="150"
                                                                              min="0"
                                                                              type="range" value="8"><br>

                                            <label for="drawing-color" text="e-13">Line color:</label>
                                            <input id="drawing-color" type="color" value="#005E7A"><br>

                                            <label for="drawing-shadow-color" text="e-14">Shadow color:</label>
                                            <input id="drawing-shadow-color" type="color" value="#005E7A"><br>

                                            <label for="drawing-shadow-width" text="e-15">Shadow width:</label>
                                            <span class="info">16</span><input id="drawing-shadow-width" max="50"
                                                                               min="0" type="range" value="0"><br>

                                            <label for="drawing-shadow-offset" text="e-16">Shadow offset:</label>
                                            <span class="info">0</span><input id="drawing-shadow-offset" max="50"
                                                                              min="0" type="range" value="0"><br>
                                        </div>
                                    </div>

                                    <div style="text-align:center;">
                                        <button id="generateDuck"
                                                onclick="generateSpriteSheet()"
                                                text="e-17" type="button">
                                            Generate Duck Spritesheet
                                        </button>

                                        <button id="downloadLink" onclick="download();"
                                                text="e-18" type="button">
                                            Download
                                        </button>
                                    </div>
                                    <a id="link"></a>
                                </div>

                            </div>

                            <div class="container" id="previewSection">
                                <h3 class="justify-content-center" id="previewText" text="u-29">Preview</h3>
                                <div class="justify-content-end">
                                    <canvas height="200" id="animPreview1" style="visibility: hidden"
                                            width="200"></canvas>
                                    <canvas height="200" id="animPreview2" style="visibility: hidden"
                                            width="200"></canvas>
                                    <canvas height="200" id="animPreview1-flipped"
                                            style="visibility: hidden; transform:scale(-1,1)"
                                            width="200"></canvas>
                                    <canvas height="200" id="animPreview2-flipped"
                                            style="visibility: hidden; transform:scale(-1,1)"
                                            width="200"></canvas>
                                    <div id="prevButtons">
                                        <div id="prePrev"><</div>
                                        <div id="nextPrev"><</div>
                                    </div>
                                </div>
                            </div>


                            <script>

                                let canvas;

                                let ducks = [];

                                function addDucks() {
                                    ducks = [];
                                    for (let i = 1; i < 5; i++) {
                                        let duckImage = document.querySelector("#duck" + i);

                                        let duck = new fabric.Image(duckImage, {
                                            width: duckImage.width,
                                            height: duckImage.height,
                                            left: 0,
                                            top: 0,
                                            evented: false,
                                            selectable: false
                                        });
                                        duck.opacity = 0;
                                        canvas.add(duck);
                                        ducks.push(duck);
                                    }
                                    ducks[0].opacity = 1;
                                    canvas.renderAll();
                                }

                                function init() {
                                    const $ = function (id) {
                                        return document.getElementById(id);
                                    };

                                    /* Drag and Drop code adapted from http://www.html5rocks.com/en/tutorials/dnd/basics/ */

                                    canvas = new fabric.Canvas("canvas", {
                                        isDrawingMode: false
                                    });


                                    addDucks();


                                    /*
                                    NOTE: the start and end handlers are events for the <img> elements; the rest are bound to
                                    the canvas container.
                                    */

                                    function handleDragStart(e) {

                                        [].forEach.call(images, function (img) {
                                            img.classList.remove("img_dragging");
                                        });
                                        this.classList.add("img_dragging");
                                    }

                                    function handleDragOver(e) {
                                        if (e.preventDefault) {
                                            e.preventDefault(); // Necessary. Allows us to drop.
                                        }

                                        e.dataTransfer.dropEffect = "copy"; // See the section on the DataTransfer object.
                                        // NOTE: comment above refers to the article (see top) -natchiketa

                                        return false;
                                    }

                                    function handleDragEnter(e) {
                                        // this / e.target is the current hover target.
                                        this.classList.add("over");
                                    }

                                    function handleDragLeave(e) {
                                        this.classList.remove("over"); // this / e.target is previous target element.
                                    }

                                    function handleDrop(e) {
                                        // this / e.target is current target element.

                                        if (e.stopPropagation) {
                                            e.stopPropagation(); // stops the browser from redirecting.
                                        }

                                        const img = document.querySelector("#images img.img_dragging");


                                        // console.log("event: ", e);
                                        // console.log(img);
                                        // console.log(img);

                                        const newImage = new fabric.Image(img, {

                                            width: img.width,
                                            height: img.height,
                                            // Set the center of the new object based on the event coordinates relative
                                            // to the canvas container.
                                            left: e.layerX,
                                            top: e.layerY
                                        });
                                        canvas.add(newImage);

                                        window.$(".img_dragging").removeClass("img_dragging");


                                        return false;
                                    }

                                    function handleDragEnd(e) {

                                        // this/e.target is the source node.
                                        [].forEach.call(images, function (img) {
                                            img.classList.remove("img_dragging");
                                        });
                                    }

                                    function spawn(e) {
                                        const img = this;
                                        // console.log("event: ", e);
                                        // console.log("imagen", img);
                                        // console.log(img.width);
                                        const newImage = new fabric.Image(img, {
                                            width: img.naturalWidth,
                                            height: img.naturalHeight,
                                            // Set the center of the new object based on the event coordinates relative
                                            // to the canvas container.
                                            left: 0,
                                            top: 0
                                        });
                                        newImage.scaleToWidth(150);
                                        canvas.add(newImage);

                                        window.$(".img_dragging").removeClass("img_dragging");
                                    }

                                    if (Modernizr.draganddrop) {
                                        // Browser supports HTML5 DnD.

                                        // Bind the event listeners for the image elements
                                        const images = document.querySelectorAll("#images img");
                                        [].forEach.call(images, function (img) {
                                            //img.addEventListener("dragstart", handleDragStart, false);
                                            //img.addEventListener("dragend", handleDragEnd, false);
                                            img.addEventListener("click", spawn, false);
                                        });
                                        // Bind the event listeners for the canvas
                                        /*const canvasContainer = document.getElementById("canvas-container");
                                        canvasContainer.addEventListener("dragenter", handleDragEnter, false);
                                        canvasContainer.addEventListener("dragover", handleDragOver, false);
                                        canvasContainer.addEventListener("dragleave", handleDragLeave, false);
                                        canvasContainer.addEventListener("drop", handleDrop, false);*/

                                    } else {
                                        // Replace with a fallback to a library solution.
                                        //todo: tl string
                                        // alert("This browser doesn't support the HTML5 Drag and Drop API.");
                                        alert(strings[lang]["Editor"][19]);
                                    }


                                    const drawingModeEl = $("drawing-mode"),
                                        drawingOptionsEl = $("drawing-mode-options"),
                                        drawingColorEl = $("drawing-color"),
                                        drawingShadowColorEl = $("drawing-shadow-color"),
                                        drawingLineWidthEl = $("drawing-line-width"),
                                        drawingShadowWidth = $("drawing-shadow-width"),
                                        drawingShadowOffset = $("drawing-shadow-offset"),
                                        clearEl = $("clear-canvas");

                                    clearEl.onclick = function () {
                                        let txt;
                                        // const r = confirm("Reset Duck? All elements and drawings will be deleted");
                                        const r = confirm(strings[lang]["Editor"][20]);
                                        if (r == true) {

                                        } else {
                                            return;
                                        }
                                        canvas.clear();
                                        addDucks();
                                    };

                                    drawingModeEl.onclick = function () {
                                        canvas.isDrawingMode = !canvas.isDrawingMode;
                                        if (canvas.isDrawingMode) {
                                            drawingModeEl.innerHTML = strings[lang]["Editor"][21];
                                            // drawingModeEl.innerHTML = "Cancel drawing mode";
                                            drawingOptionsEl.style.display = "";
                                        } else {
                                            drawingModeEl.innerHTML = strings[lang]["Editor"][5];
                                            // drawingModeEl.innerHTML = "Enter drawing mode";
                                            drawingOptionsEl.style.display = "none";
                                        }
                                    };

                                    if (fabric.PatternBrush) {
                                        const vLinePatternBrush = new fabric.PatternBrush(canvas);
                                        vLinePatternBrush.getPatternSrc = function () {

                                            const patternCanvas = fabric.document.createElement("canvas");
                                            patternCanvas.width = patternCanvas.height = 10;
                                            const ctx = patternCanvas.getContext("2d");

                                            ctx.strokeStyle = this.color;
                                            ctx.lineWidth = 5;
                                            ctx.beginPath();
                                            ctx.moveTo(0, 5);
                                            ctx.lineTo(10, 5);
                                            ctx.closePath();
                                            ctx.stroke();

                                            return patternCanvas;
                                        };

                                        const hLinePatternBrush = new fabric.PatternBrush(canvas);
                                        hLinePatternBrush.getPatternSrc = function () {

                                            const patternCanvas = fabric.document.createElement("canvas");
                                            patternCanvas.width = patternCanvas.height = 10;
                                            const ctx = patternCanvas.getContext("2d");

                                            ctx.strokeStyle = this.color;
                                            ctx.lineWidth = 5;
                                            ctx.beginPath();
                                            ctx.moveTo(5, 0);
                                            ctx.lineTo(5, 10);
                                            ctx.closePath();
                                            ctx.stroke();

                                            return patternCanvas;
                                        };

                                        const squarePatternBrush = new fabric.PatternBrush(canvas);
                                        squarePatternBrush.getPatternSrc = function () {

                                            const squareWidth = 10, squareDistance = 2;

                                            const patternCanvas = fabric.document.createElement("canvas");
                                            patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;
                                            const ctx = patternCanvas.getContext("2d");

                                            ctx.fillStyle = this.color;
                                            ctx.fillRect(0, 0, squareWidth, squareWidth);

                                            return patternCanvas;
                                        };

                                        const diamondPatternBrush = new fabric.PatternBrush(canvas);
                                        diamondPatternBrush.getPatternSrc = function () {

                                            const squareWidth = 10, squareDistance = 5;
                                            const patternCanvas = fabric.document.createElement("canvas");
                                            const rect = new fabric.Rect({
                                                width: squareWidth,
                                                height: squareWidth,
                                                angle: 45,
                                                fill: this.color
                                            });

                                            const canvasWidth = rect.getBoundingRect().width;

                                            patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;
                                            rect.set({left: canvasWidth / 2, top: canvasWidth / 2});

                                            const ctx = patternCanvas.getContext("2d");
                                            rect.render(ctx);

                                            return patternCanvas;
                                        };

                                        let img = new Image();
                                        img.src = "honey_im_subtle.png";

                                        let texturePatternBrush = new fabric.PatternBrush(canvas);
                                        texturePatternBrush.source = img;
                                    }

                                    $("drawing-mode-selector").onchange = function () {

                                        if (this.value === "hline") {
                                            canvas.freeDrawingBrush = vLinePatternBrush;
                                        } else if (this.value === "vline") {
                                            canvas.freeDrawingBrush = hLinePatternBrush;
                                        } else if (this.value === "square") {
                                            canvas.freeDrawingBrush = squarePatternBrush;
                                        } else if (this.value === "diamond") {
                                            canvas.freeDrawingBrush = diamondPatternBrush;
                                        } else if (this.value === "texture") {
                                            canvas.freeDrawingBrush = texturePatternBrush;
                                        } else {
                                            canvas.freeDrawingBrush = new fabric[this.value + "Brush"](canvas);
                                        }

                                        if (canvas.freeDrawingBrush) {
                                            const brush = canvas.freeDrawingBrush;
                                            brush.color = drawingColorEl.value;
                                            if (brush.getPatternSrc) {
                                                brush.source = brush.getPatternSrc.call(brush);
                                            }
                                            brush.width = parseInt(drawingLineWidthEl.value, 10) || 1;
                                            brush.shadow = new fabric.Shadow({
                                                blur: parseInt(drawingShadowWidth.value, 10) || 0,
                                                offsetX: 0,
                                                offsetY: 0,
                                                affectStroke: true,
                                                color: drawingShadowColorEl.value,
                                            });
                                        }
                                    };

                                    drawingColorEl.onchange = function () {
                                        const brush = canvas.freeDrawingBrush;
                                        brush.color = this.value;
                                        if (brush.getPatternSrc) {
                                            brush.source = brush.getPatternSrc.call(brush);
                                        }
                                    };
                                    drawingShadowColorEl.onchange = function () {
                                        canvas.freeDrawingBrush.shadow.color = this.value;
                                    };
                                    drawingLineWidthEl.onchange = function () {
                                        canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;
                                        this.previousSibling.innerHTML = this.value;
                                    };
                                    drawingShadowWidth.onchange = function () {
                                        canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;
                                        this.previousSibling.innerHTML = this.value;
                                    };
                                    drawingShadowOffset.onchange = function () {
                                        canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;
                                        canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;
                                        this.previousSibling.innerHTML = this.value;
                                    };

                                    if (canvas.freeDrawingBrush) {
                                        canvas.freeDrawingBrush.color = drawingColorEl.value;
                                        // console.log(canvas.freeDrawingBrush);
                                        if (canvas.freeDrawingBrush.getPatternSrc) {
                                            canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(this);
                                        }
                                        canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;
                                        canvas.freeDrawingBrush.shadow = new fabric.Shadow({
                                            blur: parseInt(drawingShadowWidth.value, 10) || 0,
                                            offsetX: 0,
                                            offsetY: 0,
                                            affectStroke: true,
                                            color: drawingShadowColorEl.value,
                                        });
                                    }
                                }

                                function generateSpriteSheet() {

                                    const sheet = document.getElementById("spritesheet");

                                    const sheetCtx = sheet.getContext("2d");

                                    sheetCtx.clearRect(0, 0, sheet.width, sheet.height);

                                    //$(".canvas-container canvas").attr("width",200);
                                    //$(".canvas-container canvas").attr("height",200);

                                    drawSpriteSheet();
                                    drawSpriteSheet(200, 0, 1);
                                    drawSpriteSheet(0, 200, 2);
                                    drawSpriteSheet(200, 200, 3);


                                    let e = sheet.toDataURL("image/png").replace("image/png", "image/octet-stream");

                                    // console.log(e);
                                    spritesheet.src = e;
                                    try {
                                        document.getElementById("raw-sbm").remove();
                                        document.getElementById("mime-sbm").remove();
                                        document.getElementById("filetype-sbm").remove();
                                    } catch (e) {
                                    }
                                    let html = "<input type=\"hidden\" name=\"data\" id=\"raw-sbm\" value=\"" + e.split(",")[1] + "\" >";
                                    html += "<input type=\"hidden\" name=\"mimetype\" id=\"mime-sbm\" value=\"" + "image/octet-stream" + "\" >";
                                    html += "<input type=\"hidden\" name=\"filename\" id=\"filename-sbm\" value=\"" + "editor_creation" + "\" >";
                                    $("#data").append(html);

                                    canvas1.style.visibility = "visible";
                                    canvas2.style.visibility = "visible";
                                    canvas1Flipped.style.visibility = "visible";
                                    canvas2Flipped.style.visibility = "visible";
                                    startAnimating(10);
                                    $("#downloadLink").show();
                                    $("#submit").show();
                                    $("#editor-sub").show();

                                    $("#previewSection").fadeIn();
									document.getElementById('previewSection').scrollIntoView();
                                }

                                function drawSpriteSheet(x = 0, y = 0, dindex = 0) {

                                    for (let a = 0; a < ducks.length; a++) {
                                        ducks[a].opacity = 0;
                                    }
                                    ducks[dindex].opacity = 1;

                                    canvas.renderAll();

                                    //deactivateAll() deprecated in fabric 2
                                    canvas.discardActiveObject().renderAll();
                                    // canvas.deactivateAll().renderAll();

                                    const sheet = document.getElementById("spritesheet");
                                    const duckCan = document.getElementById("canvas");
                                    const source = document.getElementById("source");
                                    const copy = document.getElementById("copy");

                                    const sourceCtx = source.getContext("2d");
                                    const copyCtx = copy.getContext("2d");
                                    const sheetCtx = sheet.getContext("2d");


                                    //call its drawImage() function passing it the source canvas directly

                                    let auxWidth = 200;
                                    const destination = 200;
                                    const step = 50;
                                    // console.log("canvas width", canvas.width);
                                    copyCtx.drawImage(duckCan, 0, 0, $("#canvas").attr("width"), $("#canvas").attr("height"), 0, 0, auxWidth, auxWidth);

                                    for (let a = 0; auxWidth > destination; a++) {
                                        sourceCtx.clearRect(0, 0, 200, 200);
                                        sourceCtx.drawImage(copy, 0, 0, auxWidth, auxWidth, 0, 0, auxWidth, auxWidth);

                                        copyCtx.clearRect(0, 0, 200, 200);

                                        copyCtx.drawImage(source, 0, 0, auxWidth, auxWidth, 0, 0, auxWidth - step, auxWidth - step);

                                        //copyCtx.drawImage(aux, 0, 0,280,300,0,0,250,250);

                                        auxWidth -= step;
                                    }
                                    sheetCtx.drawImage(copy, 0, 0, auxWidth, auxWidth, x, y, 200, 200);
                                    sourceCtx.clearRect(0, 0, 200, 200);
                                    copyCtx.clearRect(0, 0, 200, 200);
                                    //destCtx.drawImage(duckCan, 300, 0);
                                    //destCtx.drawImage(duckCan, 0, 300);
                                    //destCtx.drawImage(duckCan, 300, 300);

                                }

                            </script>


                            <script>
                                function download() {
                                    const sheet = document.getElementById("spritesheet");
                                    const link = document.getElementById("link");
                                    link.setAttribute("download", "MyDuck.png");
                                    link.setAttribute("href", sheet.toDataURL("image/png").replace("image/png", "image/octet-stream"));
                                    link.click();
                                }
                            </script>


                            <div style="position:fixed;left:-10000000px;">
                                <img id="bigTexture" onload="loadAccesoriesTexture()" src="accessories.png">
                                <div id="templateImages">
                                    <div class="SubaBeret_1"></div>
                                    <div class="Little_Ambulance_1"></div>
                                    <div class="Little_Ambulance_2"></div>
                                    <div class="Little_Cap_1"></div>
                                    <div class="Little_Duck1"></div>
                                    <div class="Little_Megaphone"></div>
                                    <div class="Suba_Hairpin"></div>
                                    <div class="tophat"></div>
                                    <div class="stopwatch"></div>
                                    <div class="policehat"></div>
                                    <div class="KoroHairband"></div>
                                    <div class="Akiantenna"></div>
                                    <div class="AquaRibbon"></div>
                                    <div class="AquaTissue"></div>
                                    <div class="AyameMaskandHorn"></div>
                                    <div class="ChocoHorns"></div>
                                    <div class="MatsuriRibbon"></div>
                                    <div class="MelChoker"></div>
                                    <div class="MelHairbat"></div>
                                    <div class="Akinecktie"></div>
                                    <div class="MioHairband"></div>
                                    <div class="OkaChoker"></div>
                                    <div class="Okaears"></div>
                                    <div class="ShionHat"></div>
                                    <div class="ChocoTattoo"></div>
                                    <div class="SubaHat"></div>
                                    <div class="FubuEars"></div>
                                    <div class="Fubukimark1"></div>
                                    <div class="KoroChoker"></div>
                                    <div class="MioEars"></div>
                                    <div class="bow1"></div>
                                    <div class="bow2"></div>
                                    <div class="baseballhat"></div>
                                    <div class="hat2"></div>
                                    <div class="hat1"></div>
                                    <div class="hat3"></div>
                                    <div class="glassestint"></div>
                                    <div class="eyepatch"></div>
                                    <div class="glasses"></div>

                                </div>
                            </div>


                            <script>

                                function createCrop(selector) {
                                    // console.log("selector", selector);
                                    let cropWidth = $(selector).css("width");
                                    let cropHeight = $(selector).css("height");
                                    let cropX = $(selector).css("background-position-x");
                                    let cropY = $(selector).css("background-position-y");

                                    try {
                                        cropX = cropX.replace("-", "");
                                        cropY = cropY.replace("-", "");
                                    } catch (e) {
                                        // console.log(selector, e);
                                    }
                                    // console.log(cropWidth, cropHeight, cropX, cropY);

                                    $("body").append("<canvas id=\"cropped\" width=" + cropWidth + " height=" + cropHeight + " style=\"border:2px solid black;\"></canvas>");

                                    const cropCanvas = document.getElementById("cropped");
                                    const cropCtx = cropCanvas.getContext("2d");
                                    const imageCrop = document.getElementById("bigTexture");

                                    cropWidth = parseInt(cropWidth.replace("px", ""));
                                    cropHeight = parseInt(cropHeight.replace("px", ""));
                                    cropX = parseInt(cropX.replace("px", ""));
                                    cropY = parseInt(cropY.replace("px", ""));

//	imageCrop.addEventListener('load', e => {
                                    cropCtx.drawImage(imageCrop, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);
                                    const image = new Image();
                                    image.src = cropCanvas.toDataURL();

                                    $("#images").append(image);


                                    $(cropCanvas).remove();
                                    if (images.length > 0) {
                                        createCrop("." + $(images.pop()).attr("class"));
                                    } else {
                                        //$("#templateImages").remove();
                                    }
                                    //});

                                }

                                var images = $("#templateImages div").toArray().reverse();

                                function loadAccesoriesTexture() {
                                    // console.log("asdas", $(images.pop()).attr("class"));
                                    createCrop("." + $(images.pop()).attr("class"));
                                }


                            </script>
                            <!--                                <div style="position:absolute;left:0;">-->


                            <label id="editor-sub" style="display:none" text="e-22">If you made changes, generate
                                the spritesheet again
                                before
                                submitting.</label>
                        </div>
                        <input class="form-control" id="submit" text="u-33" type="submit"/>
                    </div>

                </div>
            </form>
            <audio autoplay id="player">
                <source id="mp3_src" src="" type="audio/mp3"/>
                <div text="u-32">Your browser does not support the audio element.</div>
            </audio>
        </div>
    </div>
    <div aria-labelledby="faq-tab" class="screen tab-pane fade" id="faq-container" role="tabpanel">
        <div class="screen-inner">

            <h1 text="g-0">FAQ</h1>

            <ul>
                <li>
                    <span text="g-1">How do I know if my submission is accepted?
</span>
                    <ul text="g-2">You can assume it was accepted. However, if there was something wrong, we will
                        contact you and tell you what was wrong (if you provided your contact info).
                    </ul>
                </li>
                <li>
                    <span text="g-3">When will we be able to see the finished project?</span>
                    <ul text="g-4">The web page with all of the submissions will be publicly released on June 30th. Keep
                        an eye out for posts on Discord and SNS.
                    </ul>
                </li>
                <li>
                    <span text="g-5">Can I post my submission on Twitter using Subaru's art tag, or Reddit?</span>
                    <ul text="g-6">Please keep it a secret! Subaru checks her art tag daily, and she has mentioned that
                        she checks Reddit sometimes. We want it to be a surprise. You may share your designs on Discord!
                    </ul>
                </li>
                <li>
                    <span text="g-7">Can I just paste something on the duck?</span>
                    <ul text="g-8">Yes, if the clip art is royalty free. You can use our provided assets as well. Don't
                        steal anyone's artwork.
                    </ul>
                    <ul><a href="duck_accessories.zip" text="g-9">Accessories</a></ul>

                </li>
                <li>
                    <span text="g-10">I don't have drawing software!</span>
                    <ul text="g-11">If you do not have access to image editing software, you can use this website
                        for
                        free and import our template.
                    </ul>
                    <ul text="g-13">
                        You can also use our editor, but it is feature limited.
                    </ul>
                    <ul><a href="https://prominentdetail.github.io/Pixel.Tools/" text="g-12">https://prominentdetail.github.io/Pixel.Tools/</a>
                    </ul>
                </li>
                <li>
                    <span text="g-14">Can I draw more animation frames?</span>
                    <ul text="g-15">We would like the animation to be uniform across the site, so unfortunately no.
                    </ul>
                </li>
                <li>
                    <span text="g-16">I have another fanmade creation to celebrate, can you add it?</span>
                    <ul text="g-17">If it can fit in some way to the main project, we can try! At the very least, we
                        can link to your creation separately!
                    </ul>
                </li>
                <li>
                    <span text="g-18">Can I help in some other way?</span>
                    <ul text="g-19">Contact us in discord!</ul>
                </li>
                <li>
                    <span text="g-20">I don't use Discord, is there another way to contact you?</span>
                    <ul><a href="mailto:info@subatomos.com" text="g-21">info@subatomos.com</a></ul>
                    <ul><a href="https://twitter.com/subatomos">@subatomos</a></ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<script crossorigin="anonymous"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select-country@4.0.0/dist/js/bootstrap-select-country.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-maxlength@1.10.1/dist/bootstrap-maxlength.min.js"></script>
<script src="upload.js"></script>
<script defer>
    // console.log("index load");
    $(function () {

        $(".countrypicker").countrypicker();
        $("#country").prepend("<option text='u-24' value='abstain' data-tokens='' data-countrycode='ZZ'></option>");
        loadTranslationsJSON().then(loadTexts).then(changeDropdown).then(addLangToForm);
        loadCountryCodesJSON().then(makeValidCodes);
        loadsounds();//.then(makeSoundButtons);
    });


    function loadTexts() {
        if (strings == null) {
            console.error("strings weren't loaded");
        }
        if (lang == null) {
            console.error("lang not set");
        }
        let linksTags = $("#nav-tab [text]");
        let homeTags = $("#home [text]");
        let uploadTags = $("#upload-container [text]");
        let faqTags = $("#faq-container [text]");
        let editorTags = $("#editor [text]");
        let soundsTags = $("#soundSection [text]");
        let makeyourownTags = $("#make [text]");
        let specsTags = $("#specs [text]");
        let links = strings[lang]["Links"];
        let home = strings[lang]["main"];
        let upload = strings[lang]["Upload"];
        let editor = strings[lang]["Editor"];
        let sounds = strings[lang]["Sounds"];
        let make = strings[lang]["makeyourown"];
        let specs = strings[lang]["Technical Specifications"];
        let faq = strings[lang]["faq page"];

        [...uploadTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = upload[index];
        });
        document.getElementById("name").setAttribute("placeholder", upload[3]);
        document.getElementById("message").setAttribute("placeholder", upload[5]);
        document.getElementById("country").setAttribute("placeholder", upload[23]);
        document.getElementById("fanartUsername").setAttribute("placeholder", upload[28]);


        [...homeTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = home[index];
        });
        [...linksTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = links[index];
        });
        [...faqTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = faq[index];
        });

        [...editorTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = editor[index];
        });
        [...soundsTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = sounds[index];
        });
        [...makeyourownTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = make[index];
        });
        [...specsTags].forEach(function (t) {
            let textAttr = t.getAttribute("text");
            let index = textAttr.substr(2);

            t.textContent = specs[index];
        });

        // //exception for jp, line 105/106 in doc
        // if ($("#jp-ex-3") != null)
        //     $("#jp-ex-3").remove();
        // if (lang == "JP") {
        //     let ln105 = $("#jp-ex-1")[0];
        //     let texts = ln105.textContent.split("技術的仕様");
        //     ln105.textContent = texts[0];
        //     let ln106 = $("#jp-ex-2");
        //     ln106[0].textContent = "技術的仕様";
        //     let span = `<span id="jp-ex-3">${texts[1]}</span>`;
        //     ln106.parent().append(span);
        // }
    }

    function addLangToForm() {
        $("#form-lang").val(lang);
    }

    function makeValidCodes() {
        $("body").append("<datalist id ='validCodes'>");
        let validcodes = $("#validCodes");
        codes.countries.forEach((c) => {
            validcodes.append(`<option>${c}</option>`);
        });
        $("#country").attr("list", "validCodes");
    }

    $(".selectLang").on("click", function () {
        lang = $(this).attr("lang");
        // console.log(lang);
        localStorage["userLang"] = lang;
        // localStorage["userLang"] = $(this).attr("lang");
        // location.reload();
        loadTexts();
        changeDropdown();
    });

    function changeDropdown() {
        $("#lang-header-text").text(lang);
        let dropdown = $("#lang-flag");
        dropdown.removeClass();
        dropdown.addClass("flag-icon");
        let cls = "flag-icon-";
        switch (lang) {
        case "EN":
            cls += "us";
            break;

        case "PT":
            cls += "br";
            break;
        default:
            cls += lang.toLowerCase();
            break;
        }
        dropdown.addClass(cls);
    }

    $("a[href*='tab']").on("click", function () {
        let tab = $(this).attr("href");
        let anchor = tab.substr(0, tab.length - 4);
        $(`${tab}`).trigger("click");
        $(`${anchor}`).scrollTop();
    });


    $("input[maxlength], textarea").maxlength({
        alwaysShow: true,
        warningClass: "form-text text-muted mt-1",
        limitReachedClass: "form-text text-muted mt-1",
    });

    $("#referer").on("change", function () {
        let v = $(this).val();
        let ref = $(".refererInput");
        let refInput = $(".refererInput input");
        if (v == "other") {
            ref.show();
            refInput.attr("required", true);
        } else {
            ref.hide();
            refInput.removeAttr("required");
        }
    });

	$("#submit").hide();
    //$("#uploadMethodChoice").on("change", function () {
    $("input[type=radio][name=uploadMethod]").change(function () {
        let v = $(this).val();
        let $fanart = $(".fanart");
        let $make = $("#make");
        let $editor = $("#editor");
        let $fanartUsername = $("#fanartUsername");

        $fanartUsername.prop("required", false);
		$("#submit").hide();
        switch (v) {
        case "fanart":
            $fanart.show();
            toggleUploadInput(true);
            $fanartUsername.prop("required", true);
            $editor.hide();
            $make.hide();
            break;
        case "upload":
            $make.show();
            toggleUploadInput(true);
            $fanart.hide();
            $editor.hide();
            break;
        case "editor":
            toggleUploadInput(false);
            $editor.show();
            $make.hide();
            break;
        case "template":
            $fanart.hide();
            toggleUploadInput(false);
            $editor.hide();
            $make.hide();
			$("#submit").show();
            break;
        default:
            $fanart.hide();
            toggleUploadInput(false);
            $editor.hide();
            $make.hide();
            break;
        }
    });

    function toggleUploadInput(shouldShow) {
        let $uploadFile = $("#uploadFile");
        $uploadFile.prop("required", shouldShow);
        let $submit = $("#submit");

        if (shouldShow) {
            $uploadFile.show();
            $submit.show();
        } else {
            $uploadFile.hide();
            $submit.hide();
        }
    }

    // deep linking - load tab on refresh
    let url = location.href.replace(/\/$/, "");
    if (location.hash) {
        const hash = url.split("#");
        const currentTab = document.querySelector("#nav-tab a[href=\"#" + hash[1] + "\"]");
        const curTab = new bootstrap.Tab(currentTab);
        curTab.show();
        url = location.href.replace(/\/#/, "#");
        history.replaceState(null, null, url);
        setTimeout(() => {
            window.scrollTop = 0;
        }, 400);
    }
    // change url based on selected tab
    const selectableTabList = [].slice.call(document.querySelectorAll("a[data-toggle=\"tab\"]"));
    selectableTabList.forEach((selectableTab) => {
        // const selTab = new bootstrap.Tab(selectableTab);
        selectableTab.addEventListener("click", function () {
            let newUrl;
            const hash = selectableTab.getAttribute("href");
            if (hash == "#home-tab") {
                newUrl = url.split("#")[0];
            } else {
                newUrl = url.split("#")[0] + hash;
            }
            history.replaceState(null, null, newUrl);
        });
    });

    $(".editor-link").on("click", function () {
        $("#uploadMethodChoice").val("editor");
    });

    // function inViewport(elem, callback, options = {}) {
    //     return new IntersectionObserver(entries => {
    //         entries.forEach(entry => callback(entry));
    //     }, options).observe(document.querySelector(elem));
    // }
    //
    // inViewport("#home-tldr", element => {
    //     if (element.isIntersecting)
    //         $("#home-tldr-link").hide();
    //     else
    //         $("#home-tldr-link").show();
    // }, {
    //     root: document.querySelector("#home > div > div:nth-child(11)")
    // });

    $(document).ready(function () {
        $("#hamburguer").click(function () {
            $(".top-bar").toggleClass("active");
			$("#hamburguer").toggleClass("active");
        });

        $("nav button").click(function () {
            $(".top-bar").removeClass("active");
            $("#hamburguer").removeClass("active");
            window.scrollTo(0, 0);
        });

        var currentPrev = 0;
        $("#prevButtons div").click(function () {
            $("#previewSection .justify-content-end canvas").hide();
            if ($(this).attr("id") == "prevPrev") {
                currentPrev -= 1;
            } else {
                currentPrev += 1;
            }
            if (currentPrev > 3) {
                currentPrev = 0;
            }
            if (currentPrev < 0) {
                currentPrev = 3;
            }
            $($("#previewSection .justify-content-end canvas")[currentPrev]).show();
            $(this).blur();
        });
    });
</script>

<!--&lt;!&ndash; The core Firebase JS SDK is always required and must be listed first &ndash;&gt;-->
<!--<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>-->

<!--&lt;!&ndash; TODO: Add SDKs for Firebase products that you want to use-->
<!--     https://firebase.google.com/docs/web/setup#available-libraries &ndash;&gt;-->
<!--<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-analytics.js"></script>-->

<!--<script>-->
<!--    // Your web app's Firebase configuration-->
<!--    // For Firebase JS SDK v7.20.0 and later, measurementId is optional-->
<!--    const firebaseConfig = {-->
<!--        apiKey: "AIzaSyCM5hq9uppNdL5fdhOHbiKzmWJWuilgjkQ",-->
<!--        authDomain: "subatomoen-54ddd.firebaseapp.com",-->
<!--        projectId: "subatomoen-54ddd",-->
<!--        storageBucket: "subatomoen-54ddd.appspot.com",-->
<!--        messagingSenderId: "190222241919",-->
<!--        appId: "1:190222241919:web:daf4280dc4f539a186ef4a",-->
<!--        measurementId: "G-FH6LCWP46P"-->
<!--    };-->
<!--    // Initialize Firebase-->
<!--    firebase.initializeApp(firebaseConfig);-->
<!--    firebase.analytics();-->
<!--</script>-->
</body>
</html>
